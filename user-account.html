<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Food4Nigeria - My Account</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
      .dashboard-container {
        min-height: calc(
          100vh - 20rem
        ); /* Adjust based on header/footer height */
      }
      .sidebar-link {
        padding: 0.75rem 1rem;
        border-left: 4px solid transparent;
        transition: background-color 0.2s ease, color 0.2s ease,
          border-left-color 0.2s ease;
      }
      .sidebar-link.active {
        background-color: #ecfdf5; /* green-50 */
        color: #047857; /* green-700 */
        font-weight: 600;
        border-left-color: #10b981; /* green-500 */
      }
      .sidebar-link:hover {
        background-color: #f0fdf4; /* green-50, but slightly different for hover */
      }

      .avatar-preview {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #e5e7eb; /* gray-200 */
      }
    </style>
  </head>
  <body class="bg-gray-100 text-gray-800">
    <!-- Header (simplified for this example) -->
    <header class="bg-white shadow-sm">
      <div class="container mx-auto p-4 flex justify-between items-center">
        <h1 class="text-xl font-bold text-green-600">Food4Nigeria</h1>
        <nav>
          <a
            href="index.html"
            class="text-sm font-medium text-gray-600 hover:text-green-600"
            >Home</a
          >
        </nav>
      </div>
    </header>

    <main class="dashboard-container container mx-auto py-8 px-4">
      <div class="bg-white rounded-xl shadow-lg overflow-hidden md:flex">
        <!-- Sidebar -->
        <aside class="w-full md:w-1/4 bg-white border-r border-gray-200 p-6">
          <h2 class="text-2xl font-bold mb-6 text-gray-900">Dashboard</h2>
          <nav class="space-y-1">
            <a
              href="#"
              data-target="profile-section"
              class="sidebar-link flex items-center space-x-3 rounded-lg"
            >
              <i class="fas fa-user-circle w-5"></i>
              <span>Profile</span>
            </a>
            <a
              href="view-order-details.html"
              data-target="orders-section"
              class="sidebar-link flex items-center space-x-3 rounded-lg"
            >
              <i class="fas fa-box-open w-5"></i>
              <span>My Orders</span>
            </a>
            <a
              href="#"
              data-target="addresses-section"
              class="sidebar-link flex items-center space-x-3 rounded-lg"
            >
              <i class="fas fa-map-marker-alt w-5"></i>
              <span>Addresses</span>
            </a>
            <a
              href="wish-list.html"
              data-target="wishlist-section"
              class="sidebar-link flex items-center space-x-3 rounded-lg"
            >
              <i class="fas fa-heart w-5"></i>
              <span>Wish List</span>
            </a>
            <a
              href="#"
              data-target="settings-section"
              class="sidebar-link flex items-center space-x-3 rounded-lg"
            >
              <i class="fas fa-cog w-5"></i>
              <span>Account Settings</span>
            </a>
            <!-- Logout link, which typically handles a logout action -->
            <a
              href="#"
              data-target="logout"
              class="sidebar-link flex items-center space-x-3 rounded-lg text-red-600 hover:text-red-800"
            >
              <i class="fas fa-sign-out-alt w-5"></i>
              <span>Logout</span>
            </a>
          </nav>
        </aside>

        <!-- Main Content Area -->
        <div class="flex-1 p-6">
          <!-- Profile Section (visible by default) -->
          <section id="profile-section" class="dashboard-content-section">
            <h3 class="text-xl md:text-2xl font-bold mb-6">User Profile</h3>

            <!-- User Photo Section -->
            <div class="mb-6 flex flex-col items-center">
              <div class="relative mb-4">
                <img
                  id="user-avatar"
                  class="avatar-preview"
                  src="https://placehold.co/100x100/e2e8f0/64748b?text=User"
                  alt="User Avatar"
                />
                <div
                  class="absolute inset-0 bg-black bg-opacity-40 rounded-full flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer"
                  onclick="document.getElementById('avatar-upload').click()"
                >
                  <i class="fas fa-camera text-white text-lg"></i>
                </div>
              </div>
              <input
                type="file"
                id="avatar-upload"
                accept="image/*"
                class="hidden"
              />
              <div class="space-x-2">
                <button
                  id="upload-btn"
                  class="bg-green-600 text-white font-semibold py-2 px-4 rounded-full hover:bg-green-700 transition-colors"
                >
                  Upload Photo
                </button>
                <button
                  id="remove-btn"
                  class="bg-red-500 text-white font-semibold py-2 px-4 rounded-full hover:bg-red-600 transition-colors"
                >
                  Remove Photo
                </button>
              </div>
            </div>

            <form class="space-y-4">
              <div>
                <label
                  for="name"
                  class="block text-sm font-medium text-gray-700"
                  >Full Name</label
                >
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
                  value="John Doe"
                />
              </div>
              <div>
                <label
                  for="email"
                  class="block text-sm font-medium text-gray-700"
                  >Email Address</label
                >
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
                  value="john.doe@example.com"
                />
              </div>
              <div>
                <label
                  for="phone"
                  class="block text-sm font-medium text-gray-700"
                  >Phone Number</label
                >
                <input
                  type="tel"
                  id="phone"
                  name="phone"
                  class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"
                  value="+234 801 234 5678"
                />
              </div>
              <div>
                <button
                  type="submit"
                  class="w-full bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-md transition-colors"
                >
                  Save Profile
                </button>
              </div>
            </form>
          </section>

          <!-- My Orders Section (hidden by default) -->
          <section id="orders-section" class="dashboard-content-section hidden">
            <h3 class="text-xl md:text-2xl font-bold mb-6">My Orders</h3>
            <div class="text-gray-600">
              <p>You have no recent orders. Start shopping today!</p>
              <!-- Order list will go here -->
            </div>
          </section>

          <!-- Addresses Section (hidden by default) -->
          <section
            id="addresses-section"
            class="dashboard-content-section hidden"
          >
            <h3 class="text-xl md:text-2xl font-bold mb-6">My Addresses</h3>
            <div class="text-gray-600">
              <p>No saved addresses found.</p>
              <!-- Address list and form will go here -->
            </div>
          </section>

          <!-- Wish List Section (hidden by default) -->
          <section
            id="wishlist-section"
            class="dashboard-content-section hidden"
          >
            <h3 class="text-xl md:text-2xl font-bold mb-6">My Wish List</h3>
            <div class="text-gray-600">
              <p>Your wish list is empty. Add your favorite products here!</p>
              <!-- Wish list content will go here -->
            </div>
          </section>

          <!-- Account Settings Section (hidden by default) -->
          <section
            id="settings-section"
            class="dashboard-content-section hidden"
          >
            <h3 class="text-xl md:text-2xl font-bold mb-6">Account Settings</h3>
            <div class="text-gray-600">
              <p>Manage your account preferences and security settings here.</p>
              <!-- Account settings forms will go here -->
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- Footer (simplified) -->
    <footer class="bg-gray-800 text-white text-center py-6">
      <div class="container mx-auto">
        <p>&copy; 2024 Food4Nigeria. All rights reserved.</p>
      </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const Food4NigeriaApp = {
          elements: {
            sidebarLinks: document.querySelectorAll('.sidebar-link'),
            dashboardContentSections: document.querySelectorAll(
              '.dashboard-content-section'
            ),
            userAvatar: document.getElementById('user-avatar'),
            avatarUpload: document.getElementById('avatar-upload'),
            uploadBtn: document.getElementById('upload-btn'),
            removeBtn: document.getElementById('remove-btn'),
          },

          init() {
            this.initSidebarLinks();
            this.initProfilePhotoUpload();
          },

          /**
           * Initializes the click handlers for the sidebar links to toggle content.
           */
          initSidebarLinks() {
            const self = this;
            self.elements.sidebarLinks.forEach((link) => {
              link.addEventListener('click', (e) => {
                e.preventDefault();

                // Handle logout separately
                if (link.dataset.target === 'logout') {
                  // In a real app, this would redirect to a logout endpoint
                  console.log('User logging out...');
                  window.location.href = 'Homepage.html';
                  return;
                }

                // Remove active class from all links
                self.elements.sidebarLinks.forEach((l) =>
                  l.classList.remove('active')
                );

                // Add active class to the clicked link
                link.classList.add('active');

                // Hide all content sections
                self.elements.dashboardContentSections.forEach((section) =>
                  section.classList.add('hidden')
                );

                // Show the target section
                const targetId = link.dataset.target;
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                  targetSection.classList.remove('hidden');
                }
              });
            });

            // Handle direct access via hash in URL (e.g., user-account.html#orders)
            const hash = window.location.hash.substring(1); // Remove '#'
            if (hash) {
              const initialLink = document.querySelector(
                `.sidebar-link[data-target="${hash}-section"]`
              );
              if (initialLink) {
                initialLink.click();
              }
            } else {
              // Default to profile section if no hash
              const defaultLink = document.querySelector(
                '.sidebar-link[data-target="profile-section"]'
              );
              if (defaultLink) {
                defaultLink.click(); // Simulate click to activate display and content
              }
            }
          },

          /**
           * Initializes the photo upload and remove functionality for the profile page.
           */
          initProfilePhotoUpload() {
            const self = this;
            const defaultAvatar =
              'https://placehold.co/100x100/e2e8f0/64748b?text=User';

            // Clicks the hidden file input when the "Upload" button is clicked
            self.elements.uploadBtn.addEventListener('click', () => {
              self.elements.avatarUpload.click();
            });

            // Listens for a file to be selected
            self.elements.avatarUpload.addEventListener('change', (e) => {
              const file = e.target.files[0];
              if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                  // Set the avatar image source to the selected file
                  self.elements.userAvatar.src = event.target.result;
                };
                reader.readAsDataURL(file);
              }
            });

            // Handles the remove button click
            self.elements.removeBtn.addEventListener('click', () => {
              // Reset the avatar to the default placeholder image
              self.elements.userAvatar.src = defaultAvatar;
              // Clear the file input so the same file can be uploaded again
              self.elements.avatarUpload.value = '';
            });
          },
        };

        Food4NigeriaApp.init();
      });
    </script>
  </body>
</html>
